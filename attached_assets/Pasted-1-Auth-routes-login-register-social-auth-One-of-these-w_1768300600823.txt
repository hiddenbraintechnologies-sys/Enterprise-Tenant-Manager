1ï¸âƒ£ Auth routes (login, register, social auth)

ğŸ‘‰ One of these will exist:

server/routes/auth.ts
server/routes/auth/index.ts
server/routes/auth.routes.ts
server/routes/auth-router.ts


ğŸ” If unsure, run:

rg "login|register|auth/login|POST.*login" server

2ï¸âƒ£ Auth controller / service (email + password logic)

ğŸ‘‰ Usually one of:

server/controllers/auth.controller.ts
server/services/auth.service.ts
server/lib/auth.ts
server/core/auth.ts


ğŸ” Search:

rg "validatePassword|comparePassword|bcrypt|loginUser" server

3ï¸âƒ£ Tenantâ€“User mapping (CRITICAL)

ğŸ‘‰ One of:

server/storage/user-tenants.ts
server/storage/tenant-memberships.ts
server/db/userTenants.ts
shared/db/userTenants.ts
shared/db/memberships.ts


ğŸ” Search:

rg "tenant_id.*user|user_id.*tenant|membership" server shared

4ï¸âƒ£ Billing / Subscription API (401 â†’ 400 fix)

ğŸ‘‰ One of:

server/routes/billing.ts
server/routes/billing/index.ts
server/routes/subscription.ts
server/routes/billing/subscription.ts


ğŸ” Search:

rg "billing/subscription|getSubscription|subscription status" server

5ï¸âƒ£ Auth middleware (tenant requirement)

ğŸ‘‰ One of:

server/middleware/requireTenant.ts
server/middleware/tenant.ts
server/middleware/authTenant.ts
server/middleware/context.ts


ğŸ” Search:

rg "TENANT_REQUIRED|tenant context|x-tenant" server

ğŸ–¥ï¸ FRONTEND (Client)
6ï¸âƒ£ Login page (this MUST be edited)

ğŸ‘‰ One of:

client/src/pages/login.tsx
client/src/pages/Login.tsx
client/src/routes/login.tsx
client/src/screens/Login.tsx


ğŸ” Search:

rg "Welcome Back|Sign In|Forgot password" client/src

7ï¸âƒ£ Auth API client

ğŸ‘‰ One of:

client/src/api/auth.ts
client/src/lib/auth.ts
client/src/services/auth.ts
client/src/api/client.ts


ğŸ” Search:

rg "/api/auth/login|login\\(" client/src

8ï¸âƒ£ Tenant context provider (DO NOT wrap login)

ğŸ‘‰ One of:

client/src/contexts/tenant-context.tsx
client/src/providers/TenantProvider.tsx
client/src/context/TenantContext.tsx


ğŸ” Search:

rg "TenantProvider|tenantContext" client/src

9ï¸âƒ£ App router (public vs authenticated split)

ğŸ‘‰ One of:

client/src/App.tsx
client/src/router.tsx
client/src/routes.tsx


ğŸ” Search:

rg "publicPaths|OnboardingGuard|Switch|Routes" client/src
